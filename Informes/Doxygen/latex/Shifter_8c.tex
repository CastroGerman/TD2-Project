\hypertarget{Shifter_8c}{}\section{Drivers/\+Shifter.c File Reference}
\label{Shifter_8c}\index{Drivers/\+Shifter.\+c@{Drivers/\+Shifter.\+c}}


Funcionalidades de los C.\+I. \mbox{\hyperlink{structShifter}{Shifter}}.  


{\ttfamily \#include \char`\"{}Shifter.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}G\+P\+I\+O\+L\+P\+C1769.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Pinout\+Config\+L\+P\+C1769.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Interrupt\+Handler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Free\+R\+T\+O\+S.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}semphr.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}my\+Tasks.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{Shifter_8c_afcf871aee598f7aff67a7ba76359b138}{Init\+Shifter}} (void)
\begin{DoxyCompactList}\small\item\em Inicializa el hardware asociado a los shifters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Shifter_8c_a2a3e1b703f247f4377f6c0c043cdd3b5}{Crear\+Shifter}} (\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$$\ast$Shifter\+H\+E\+AD)
\begin{DoxyCompactList}\small\item\em Crea y aloja en R\+AM estatica la memoria necesaria. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Shifter_8c_aa05e0efd5ac43205602073400f93011e}{Eliminar\+Shifter}} (\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$$\ast$Shifter\+H\+E\+AD)
\begin{DoxyCompactList}\small\item\em Elimina la memoria previamente alojada. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Shifter_8c_aca041e79e482df6144a3cf1d1d6a41a5}{Shift\+Data\+Interrupt}} (\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$This\+\_\+\+Shifter)
\begin{DoxyCompactList}\small\item\em Transfiere la informacion en memoria a los pines fisicos. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{Shifter_8c_adf88795a3d877516397e7820ed4e3326}{Refresh\+Data\+Interrupt}} (\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$This\+\_\+\+Shifter)
\begin{DoxyCompactList}\small\item\em Actualiza el dato a imprimir desde el dato futuro almacenado. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{Shifter_8c_af6792c2c50b24b705764c083dc1ff8f9}{Shift\+Counter}}
\item 
int \mbox{\hyperlink{Shifter_8c_a77d9f345006d3c36503085ccbdc4a3bf}{Pwm\+State\+Index}}
\item 
\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$ \mbox{\hyperlink{Shifter_8c_a2d3e2a1919ea16d56f8fdbd16f76db81}{Shifter}}
\begin{DoxyCompactList}\small\item\em Global Pointer to a Shifter\+\_\+t. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Funcionalidades de los C.\+I. \mbox{\hyperlink{structShifter}{Shifter}}. 

El codigo fuente, asi como el resto del proyecto, se encuentra disponible en su totalidad, libre y gratuito en\+:

\href{https://github.com/CastroGerman/TD2-Project/}{\tt https\+://github.\+com/\+Castro\+German/\+T\+D2-\/\+Project/}

Cualquier consulta, correccion y/o aporte al codigo y al proyecto es bienvenida por mail a\+: \href{mailto:gcastro@est.frba.utn.edu.ar}{\tt gcastro@est.\+frba.\+utn.\+edu.\+ar}

Atentamente\+: Castro Germán.

\begin{DoxyAuthor}{Author}
Castro Germán 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
07-\/\+Dic-\/2018 
\end{DoxyDate}


\subsection{Function Documentation}
\mbox{\Hypertarget{Shifter_8c_a2a3e1b703f247f4377f6c0c043cdd3b5}\label{Shifter_8c_a2a3e1b703f247f4377f6c0c043cdd3b5}} 
\index{Shifter.\+c@{Shifter.\+c}!Crear\+Shifter@{Crear\+Shifter}}
\index{Crear\+Shifter@{Crear\+Shifter}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Crear\+Shifter()}{CrearShifter()}}
{\footnotesize\ttfamily void Crear\+Shifter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$$\ast$}]{Shifter\+H\+E\+AD }\end{DoxyParamCaption})}



Crea y aloja en R\+AM estatica la memoria necesaria. 


\begin{DoxyParams}{Parameters}
{\em Shifter\+H\+E\+AD} & Direccion del puntero \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 73 of file Shifter.\+c.



References Shifter\+::\+Data\+Source, and pv\+Port\+Malloc().



Referenced by t\+Init().

\mbox{\Hypertarget{Shifter_8c_aa05e0efd5ac43205602073400f93011e}\label{Shifter_8c_aa05e0efd5ac43205602073400f93011e}} 
\index{Shifter.\+c@{Shifter.\+c}!Eliminar\+Shifter@{Eliminar\+Shifter}}
\index{Eliminar\+Shifter@{Eliminar\+Shifter}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Eliminar\+Shifter()}{EliminarShifter()}}
{\footnotesize\ttfamily void Eliminar\+Shifter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$$\ast$}]{Shifter\+H\+E\+AD }\end{DoxyParamCaption})}



Elimina la memoria previamente alojada. 


\begin{DoxyParams}{Parameters}
{\em Shifter\+H\+E\+AD} & Direccion del puntero \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 88 of file Shifter.\+c.



References v\+Port\+Free().

\mbox{\Hypertarget{Shifter_8c_afcf871aee598f7aff67a7ba76359b138}\label{Shifter_8c_afcf871aee598f7aff67a7ba76359b138}} 
\index{Shifter.\+c@{Shifter.\+c}!Init\+Shifter@{Init\+Shifter}}
\index{Init\+Shifter@{Init\+Shifter}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Init\+Shifter()}{InitShifter()}}
{\footnotesize\ttfamily void Init\+Shifter (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Inicializa el hardware asociado a los shifters. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 43 of file Shifter.\+c.



References D0\+\_\+\+P\+IN, D1\+\_\+\+P\+IN, D2\+\_\+\+P\+IN, D3\+\_\+\+P\+IN, L\+C\+L\+K\+\_\+\+P\+IN, S\+C\+L\+K\+\_\+\+P\+IN, Set\+D\+I\+R(), Set\+M\+O\+D\+E(), and Set\+P\+I\+N\+S\+E\+L().



Referenced by Inicializar().

\mbox{\Hypertarget{Shifter_8c_adf88795a3d877516397e7820ed4e3326}\label{Shifter_8c_adf88795a3d877516397e7820ed4e3326}} 
\index{Shifter.\+c@{Shifter.\+c}!Refresh\+Data\+Interrupt@{Refresh\+Data\+Interrupt}}
\index{Refresh\+Data\+Interrupt@{Refresh\+Data\+Interrupt}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Refresh\+Data\+Interrupt()}{RefreshDataInterrupt()}}
{\footnotesize\ttfamily void Refresh\+Data\+Interrupt (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$}]{This\+\_\+\+Shifter }\end{DoxyParamCaption})}



Actualiza el dato a imprimir desde el dato futuro almacenado. 

La dispara un timer cuyo periodo fue previamente seteado por el sensor hall. Encargada de copiar el buffer que la aplicacion cargo en un Shifter\+\_\+t. 
\begin{DoxyParams}{Parameters}
{\em This\+\_\+\+Shifter} & Puntero a la informacion de los shifters. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 116 of file Shifter.\+c.



References Shifter\+::\+Data, Shifter\+::\+Data\+Source, F\+I\+L\+A\+S\+\_\+\+S\+H\+I\+F\+T\+E\+RS, and P\+W\+M\+\_\+\+S\+T\+A\+TE.



Referenced by T\+I\+M\+E\+R1\+\_\+\+I\+R\+Q\+Handler().

\mbox{\Hypertarget{Shifter_8c_aca041e79e482df6144a3cf1d1d6a41a5}\label{Shifter_8c_aca041e79e482df6144a3cf1d1d6a41a5}} 
\index{Shifter.\+c@{Shifter.\+c}!Shift\+Data\+Interrupt@{Shift\+Data\+Interrupt}}
\index{Shift\+Data\+Interrupt@{Shift\+Data\+Interrupt}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Shift\+Data\+Interrupt()}{ShiftDataInterrupt()}}
{\footnotesize\ttfamily void Shift\+Data\+Interrupt (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{Shifter_8h_a3c4991c1fd648b348e30bea6a0edde02}{Shifter\+\_\+t}} $\ast$}]{This\+\_\+\+Shifter }\end{DoxyParamCaption})}



Transfiere la informacion en memoria a los pines fisicos. 


\begin{DoxyParams}{Parameters}
{\em This\+\_\+\+Shifter} & Direccion de memoria de la informacion a transferir. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 100 of file Shifter.\+c.



References D0\+\_\+\+P\+IN, D1\+\_\+\+P\+IN, D2\+\_\+\+P\+IN, D3\+\_\+\+P\+IN, Shifter\+::\+Data, Pwm\+State\+Index, Set\+P\+I\+N(), and Shift\+Counter.



Referenced by T\+I\+M\+E\+R0\+\_\+\+I\+R\+Q\+Handler().



\subsection{Variable Documentation}
\mbox{\Hypertarget{Shifter_8c_a77d9f345006d3c36503085ccbdc4a3bf}\label{Shifter_8c_a77d9f345006d3c36503085ccbdc4a3bf}} 
\index{Shifter.\+c@{Shifter.\+c}!Pwm\+State\+Index@{Pwm\+State\+Index}}
\index{Pwm\+State\+Index@{Pwm\+State\+Index}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Pwm\+State\+Index}{PwmStateIndex}}
{\footnotesize\ttfamily int Pwm\+State\+Index}

Index de estado de P\+WM 

Definition at line 28 of file Shifter.\+c.



Referenced by Print\+Start(), Shift\+Data\+Interrupt(), and T\+I\+M\+E\+R0\+\_\+\+I\+R\+Q\+Handler().

\mbox{\Hypertarget{Shifter_8c_af6792c2c50b24b705764c083dc1ff8f9}\label{Shifter_8c_af6792c2c50b24b705764c083dc1ff8f9}} 
\index{Shifter.\+c@{Shifter.\+c}!Shift\+Counter@{Shift\+Counter}}
\index{Shift\+Counter@{Shift\+Counter}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Shift\+Counter}{ShiftCounter}}
{\footnotesize\ttfamily int Shift\+Counter}

Index de shifteo 

Definition at line 27 of file Shifter.\+c.



Referenced by Print\+Stop(), Shift\+Data\+Interrupt(), and T\+I\+M\+E\+R0\+\_\+\+I\+R\+Q\+Handler().

\mbox{\Hypertarget{Shifter_8c_a2d3e2a1919ea16d56f8fdbd16f76db81}\label{Shifter_8c_a2d3e2a1919ea16d56f8fdbd16f76db81}} 
\index{Shifter.\+c@{Shifter.\+c}!Shifter@{Shifter}}
\index{Shifter@{Shifter}!Shifter.\+c@{Shifter.\+c}}
\subsubsection{\texorpdfstring{Shifter}{Shifter}}
{\footnotesize\ttfamily \mbox{\hyperlink{structShifter}{Shifter}}}



Global Pointer to a Shifter\+\_\+t. 

El puntero principal que maneja la info de los shifters. 

Definition at line 36 of file Shifter.\+c.

