\hypertarget{Serial_8c}{}\section{Drivers/\+Serial.c File Reference}
\label{Serial_8c}\index{Drivers/\+Serial.\+c@{Drivers/\+Serial.\+c}}


Primitiva de comunicación serie.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$Serial.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Interrupt\+Handler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Status\+Handler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Bluetooth.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}G\+P\+I\+O\+L\+P\+C1769.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}S\+D.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Free\+R\+T\+O\+S.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}semphr.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}my\+Tasks.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{Serial_8c_ab7770a7f0d95e67620ff6ed347a07a56}{H\+E\+A\+D\+ER}}~0
\item 
\#define \mbox{\hyperlink{Serial_8c_aad9ae913bdfab20dd94ad04ee2d5b045}{D\+A\+TA}}~1
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{Serial_8c_ac415c551094f860a3cc025bfa9817747}{Serial\+\_\+\+Rx\+Int\+Handler}} (void)
\item 
void \mbox{\hyperlink{Serial_8c_ac1052d44d8c00577e66691e7a7efcecd}{Serial\+\_\+\+Tx\+Int\+Handler}} (void)
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_ac398661704bf3203b1ef5daed2e19368}{Serial\+\_\+\+Pop\+Rx}} (\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} $\ast$data)
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_af6a34897c5d7eb22efa1e5ee455f7ec7}{Serial\+\_\+\+Push\+Tx}} (\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} data)
\item 
void \mbox{\hyperlink{Serial_8c_a94eef589ebe03c6af5331f5a33052983}{Serial\+Manager}} (void)
\begin{DoxyCompactList}\small\item\em Encargada de recibir los datos del bluetooth. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structBuffer}{Buffer}} \mbox{\hyperlink{Serial_8c_a53a0bf3c6522c23f673e96a4eb424d3a}{Image}} =\{0\}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_a1b906e1b0aa0cdd517858dc465b73f49}{g\+\_\+tx\+Buffer}} \mbox{[}\mbox{\hyperlink{Serial_8h_ab0fd424587f5445372ca509e24ea509d}{T\+X\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}\mbox{]}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_ad5d1966aff08494928152b58447bbf7e}{g\+\_\+rx\+Buffer}} \mbox{[}\mbox{\hyperlink{Serial_8h_a66dd21fe20a60e6d23426ac116bba33b}{R\+X\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}\mbox{]}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_ad9082c34a3a5bc95279fba951b6f5dc9}{g\+\_\+tx\+In}}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_ad40d5ffd8722d06869de82a6d94f7d06}{g\+\_\+tx\+Out}}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_a226208e6dbf50fd33447cec572327fb4}{g\+\_\+rx\+In}}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_a945f93cb263d002c729b3a31916dab24}{g\+\_\+rx\+Out}}
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_abad61c358d664626700a877df0fed926}{g\+\_\+tx\+Buffer\+Count}} = 0
\item 
\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \mbox{\hyperlink{Serial_8c_a6dd8d8700ce519bfaba75302af250a60}{g\+\_\+rx\+Buffer\+Count}} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Primitiva de comunicación serie. 

buffers de RX y TX protegidos \begin{DoxyAuthor}{Author}
Pablo Irrera Condines 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2013.\+05.\+08 
\end{DoxyDate}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{Serial_8c_aad9ae913bdfab20dd94ad04ee2d5b045}\label{Serial_8c_aad9ae913bdfab20dd94ad04ee2d5b045}} 
\index{Serial.\+c@{Serial.\+c}!D\+A\+TA@{D\+A\+TA}}
\index{D\+A\+TA@{D\+A\+TA}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{D\+A\+TA}{DATA}}
{\footnotesize\ttfamily \#define D\+A\+TA~1}



Definition at line 27 of file Serial.\+c.



Referenced by Serial\+Manager().

\mbox{\Hypertarget{Serial_8c_ab7770a7f0d95e67620ff6ed347a07a56}\label{Serial_8c_ab7770a7f0d95e67620ff6ed347a07a56}} 
\index{Serial.\+c@{Serial.\+c}!H\+E\+A\+D\+ER@{H\+E\+A\+D\+ER}}
\index{H\+E\+A\+D\+ER@{H\+E\+A\+D\+ER}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{H\+E\+A\+D\+ER}{HEADER}}
{\footnotesize\ttfamily \#define H\+E\+A\+D\+ER~0}



Definition at line 26 of file Serial.\+c.



Referenced by Serial\+Manager().



\subsection{Function Documentation}
\mbox{\Hypertarget{Serial_8c_ac398661704bf3203b1ef5daed2e19368}\label{Serial_8c_ac398661704bf3203b1ef5daed2e19368}} 
\index{Serial.\+c@{Serial.\+c}!Serial\+\_\+\+Pop\+Rx@{Serial\+\_\+\+Pop\+Rx}}
\index{Serial\+\_\+\+Pop\+Rx@{Serial\+\_\+\+Pop\+Rx}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{Serial\+\_\+\+Pop\+Rx()}{Serial\_PopRx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} Serial\+\_\+\+Pop\+Rx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} $\ast$}]{data }\end{DoxyParamCaption})}



Definition at line 95 of file Serial.\+c.



References g\+\_\+rx\+Buffer, g\+\_\+rx\+Buffer\+Count, g\+\_\+rx\+Out, and R\+X\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE.



Referenced by Serial\+Manager().

\mbox{\Hypertarget{Serial_8c_af6a34897c5d7eb22efa1e5ee455f7ec7}\label{Serial_8c_af6a34897c5d7eb22efa1e5ee455f7ec7}} 
\index{Serial.\+c@{Serial.\+c}!Serial\+\_\+\+Push\+Tx@{Serial\+\_\+\+Push\+Tx}}
\index{Serial\+\_\+\+Push\+Tx@{Serial\+\_\+\+Push\+Tx}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{Serial\+\_\+\+Push\+Tx()}{Serial\_PushTx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} Serial\+\_\+\+Push\+Tx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}}}]{data }\end{DoxyParamCaption})}



Definition at line 108 of file Serial.\+c.



References g\+\_\+tx\+Buffer, g\+\_\+tx\+Buffer\+Count, g\+\_\+tx\+In, and T\+X\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE.



Referenced by Mandar\+A\+T(), and Stream().

\mbox{\Hypertarget{Serial_8c_ac415c551094f860a3cc025bfa9817747}\label{Serial_8c_ac415c551094f860a3cc025bfa9817747}} 
\index{Serial.\+c@{Serial.\+c}!Serial\+\_\+\+Rx\+Int\+Handler@{Serial\+\_\+\+Rx\+Int\+Handler}}
\index{Serial\+\_\+\+Rx\+Int\+Handler@{Serial\+\_\+\+Rx\+Int\+Handler}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{Serial\+\_\+\+Rx\+Int\+Handler()}{Serial\_RxIntHandler()}}
{\footnotesize\ttfamily void Serial\+\_\+\+Rx\+Int\+Handler (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 77 of file Serial.\+c.



References U\+A\+R\+T\+\_\+\+Receive\+Byte().



Referenced by U\+A\+R\+T0\+\_\+\+I\+R\+Q\+Handler().

\mbox{\Hypertarget{Serial_8c_ac1052d44d8c00577e66691e7a7efcecd}\label{Serial_8c_ac1052d44d8c00577e66691e7a7efcecd}} 
\index{Serial.\+c@{Serial.\+c}!Serial\+\_\+\+Tx\+Int\+Handler@{Serial\+\_\+\+Tx\+Int\+Handler}}
\index{Serial\+\_\+\+Tx\+Int\+Handler@{Serial\+\_\+\+Tx\+Int\+Handler}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{Serial\+\_\+\+Tx\+Int\+Handler()}{Serial\_TxIntHandler()}}
{\footnotesize\ttfamily void Serial\+\_\+\+Tx\+Int\+Handler (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 84 of file Serial.\+c.



Referenced by U\+A\+R\+T0\+\_\+\+I\+R\+Q\+Handler().

\mbox{\Hypertarget{Serial_8c_a94eef589ebe03c6af5331f5a33052983}\label{Serial_8c_a94eef589ebe03c6af5331f5a33052983}} 
\index{Serial.\+c@{Serial.\+c}!Serial\+Manager@{Serial\+Manager}}
\index{Serial\+Manager@{Serial\+Manager}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{Serial\+Manager()}{SerialManager()}}
{\footnotesize\ttfamily void Serial\+Manager (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Encargada de recibir los datos del bluetooth. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 135 of file Serial.\+c.



References B\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+ED, D\+A\+TA, Get\+P\+I\+N(), H\+E\+A\+D\+ER, Image, ON, S\+D\+\_\+\+Read(), s\+Descomprimir, Serial\+\_\+\+Pop\+Rx(), S\+T\+A\+T\+E\+\_\+\+P\+IN, Status\+\_\+\+Flags, S\+T\+R\+E\+AM, Buffer\+::\+Stream\+\_\+\+Buffer, and Buffer\+::\+Stream\+\_\+\+Size.



Referenced by v\+Application\+Idle\+Hook().



\subsection{Variable Documentation}
\mbox{\Hypertarget{Serial_8c_ad5d1966aff08494928152b58447bbf7e}\label{Serial_8c_ad5d1966aff08494928152b58447bbf7e}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+rx\+Buffer@{g\+\_\+rx\+Buffer}}
\index{g\+\_\+rx\+Buffer@{g\+\_\+rx\+Buffer}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+rx\+Buffer}{g\_rxBuffer}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+rx\+Buffer\mbox{[}\mbox{\hyperlink{Serial_8h_a66dd21fe20a60e6d23426ac116bba33b}{R\+X\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}\mbox{]}}



Definition at line 35 of file Serial.\+c.



Referenced by Serial\+\_\+\+Pop\+Rx().

\mbox{\Hypertarget{Serial_8c_a6dd8d8700ce519bfaba75302af250a60}\label{Serial_8c_a6dd8d8700ce519bfaba75302af250a60}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+rx\+Buffer\+Count@{g\+\_\+rx\+Buffer\+Count}}
\index{g\+\_\+rx\+Buffer\+Count@{g\+\_\+rx\+Buffer\+Count}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+rx\+Buffer\+Count}{g\_rxBufferCount}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+rx\+Buffer\+Count = 0}



Definition at line 42 of file Serial.\+c.



Referenced by Serial\+\_\+\+Pop\+Rx().

\mbox{\Hypertarget{Serial_8c_a226208e6dbf50fd33447cec572327fb4}\label{Serial_8c_a226208e6dbf50fd33447cec572327fb4}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+rx\+In@{g\+\_\+rx\+In}}
\index{g\+\_\+rx\+In@{g\+\_\+rx\+In}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+rx\+In}{g\_rxIn}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+rx\+In}



Definition at line 40 of file Serial.\+c.

\mbox{\Hypertarget{Serial_8c_a945f93cb263d002c729b3a31916dab24}\label{Serial_8c_a945f93cb263d002c729b3a31916dab24}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+rx\+Out@{g\+\_\+rx\+Out}}
\index{g\+\_\+rx\+Out@{g\+\_\+rx\+Out}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+rx\+Out}{g\_rxOut}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+rx\+Out}



Definition at line 40 of file Serial.\+c.



Referenced by Serial\+\_\+\+Pop\+Rx().

\mbox{\Hypertarget{Serial_8c_a1b906e1b0aa0cdd517858dc465b73f49}\label{Serial_8c_a1b906e1b0aa0cdd517858dc465b73f49}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+tx\+Buffer@{g\+\_\+tx\+Buffer}}
\index{g\+\_\+tx\+Buffer@{g\+\_\+tx\+Buffer}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+tx\+Buffer}{g\_txBuffer}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+tx\+Buffer\mbox{[}\mbox{\hyperlink{Serial_8h_ab0fd424587f5445372ca509e24ea509d}{T\+X\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}\mbox{]}}



Definition at line 33 of file Serial.\+c.



Referenced by Serial\+\_\+\+Push\+Tx().

\mbox{\Hypertarget{Serial_8c_abad61c358d664626700a877df0fed926}\label{Serial_8c_abad61c358d664626700a877df0fed926}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+tx\+Buffer\+Count@{g\+\_\+tx\+Buffer\+Count}}
\index{g\+\_\+tx\+Buffer\+Count@{g\+\_\+tx\+Buffer\+Count}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+tx\+Buffer\+Count}{g\_txBufferCount}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+tx\+Buffer\+Count = 0}



Definition at line 42 of file Serial.\+c.



Referenced by Serial\+\_\+\+Push\+Tx().

\mbox{\Hypertarget{Serial_8c_ad9082c34a3a5bc95279fba951b6f5dc9}\label{Serial_8c_ad9082c34a3a5bc95279fba951b6f5dc9}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+tx\+In@{g\+\_\+tx\+In}}
\index{g\+\_\+tx\+In@{g\+\_\+tx\+In}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+tx\+In}{g\_txIn}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+tx\+In}



Definition at line 38 of file Serial.\+c.



Referenced by Serial\+\_\+\+Push\+Tx().

\mbox{\Hypertarget{Serial_8c_ad40d5ffd8722d06869de82a6d94f7d06}\label{Serial_8c_ad40d5ffd8722d06869de82a6d94f7d06}} 
\index{Serial.\+c@{Serial.\+c}!g\+\_\+tx\+Out@{g\+\_\+tx\+Out}}
\index{g\+\_\+tx\+Out@{g\+\_\+tx\+Out}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{g\+\_\+tx\+Out}{g\_txOut}}
{\footnotesize\ttfamily \mbox{\hyperlink{RegsLPC1769_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} g\+\_\+tx\+Out}



Definition at line 38 of file Serial.\+c.

\mbox{\Hypertarget{Serial_8c_a53a0bf3c6522c23f673e96a4eb424d3a}\label{Serial_8c_a53a0bf3c6522c23f673e96a4eb424d3a}} 
\index{Serial.\+c@{Serial.\+c}!Image@{Image}}
\index{Image@{Image}!Serial.\+c@{Serial.\+c}}
\subsubsection{\texorpdfstring{Image}{Image}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structBuffer}{Buffer}} Image =\{0\}}



Definition at line 30 of file Serial.\+c.



Referenced by Carga\+Data(), Descomprimir(), and Serial\+Manager().

